#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Mon Apr  1 10:20:55 2019

@author: mvb
"""
from pyqtgraph.Qt import QtGui, QtCore
import numpy as np
import pyqtgraph as pg

x = [0, 0.009898274079500799, 0.019695736376780272, 0.02939710008011245, 0.03901149627456041, 0.048551850019617857, 0.05803272811010719, 0.06746782169469519, 
     0.07686847466485126, 0.08624343845913451, 0.09559924959721741, 0.10494073668000359, 0.1142714603351822, 0.1235940496082156, 0.13291044920403686, 0.14222209973606703, 
     0.1515300694516963, 0.16083515095291862, 0.1701379325128543, 0.17943885081853117, 0.1887382300516521, 0.19803631087822443, 0.20733327196515286, 0.21662924595434585, 
     0.22592433132293252, 0.2352186011888834, 0.2445121098483216, 0.2538048976284435, 0.26309699448975155, 0.2723884226997233, 0.2816791988171445, 0.2909693351647501, 
     0.30025884092206767, 0.3095477229363807, 0.3188359863244967, 0.32812363491927016, 0.3374106716009221, 0.34669709854287295, 0.35598291739414223, 0.36526812941467984, 
     0.3745527355757735, 0.3838367366345437, 0.39312013318921213, 0.4024029257201053, 0.411685114620075, 0.42096670021706634, 0.4302476827908601, 0.4395280625854934, 
     0.4488078398184736, 0.4580870146876139, 0.4673655873761038, 0.47664355805627034, 0.48592092689236877, 0.49519769404265196, 0.504473859660906, 0.5137494238975887, 
     0.5230243869006749, 0.5322987488162827, 0.5415725097891383, 0.5508456699629208, 0.5601182294805181, 0.5693901884842163, 0.5786615471158404, 0.5879323055168588, 
     0.5972024638284609, 0.606472022191614, 0.6157409807471064, 0.6250093396355785, 0.6342770989975467, 0.6435442589734206, 0.6528108197035158, 0.6620767813280639, 
     0.6713421439872189, 0.6806069078210633, 0.6898710729696111, 0.6991346395728119, 0.7083976077705518, 0.7176599777026561, 0.7269217495088897, 0.7361829233289585, 
     0.7454434993025101, 0.7547034775691338, 0.7639628582683616, 0.7732216415396681, 0.7824798275224709, 0.7917374163561307, 0.8009944081799516, 0.8102508031331809, 
     0.8195066013550094, 0.8287618029845717, 0.8380164081609458, 0.8472704170231533, 0.8565238297101598, 0.8657766463608745, 0.8750288671141503, 0.8842804921087841, 
     0.8935315214835169, 0.9027819553770332, 0.9120317939279617, 0.9212810372748751, 0.9305296855562901]
y = [0, 0.00018620804845368547, 0.0005924991183013561, 0.0012291113475119669, 0.002088014163329389, 0.0031472732043682835, 0.004376750613697735, 0.005744319366200585, 
     0.007220363013833918, 0.008779839005011687, 0.010402626884871036, 0.012073047559071506, 0.013779108166132118, 0.015511739896045594, 0.017264133483102823, 0.019031198644404612, 
     0.02080914050205512, 0.0225951347318898, 0.02438708158162536, 0.026183421035707647, 0.027982994576292178, 0.029784942091399785, 0.031588625131531024, 0.03339356984449821, 
     0.03519942457274517, 0.03700592836006021, 0.038812887567841375, 0.04062015851612072, 0.0424276345988154, 0.04423523672088638, 0.04604290620144347, 0.047850599507177634, 
     0.04965828434422444, 0.051465936758164604, 0.053273538982162, 0.0550810778402727, 0.05688854356271799, 0.05869592890684673, 0.0605032285049231, 0.06231043838021822, 
     0.0641175555879805, 0.06592457794906241, 0.06773150385229436, 0.06953833210786534, 0.07134506183854716, 0.0731516923989959, 0.0749582233158839, 0.07676465424348634, 
     0.07857098493073304, 0.08037721519676637, 0.0821833449128094, 0.08398937398871541, 0.08579530236299021, 0.08760112999539088, 0.08940685686143546, 0.09121248294833051, 
     0.09301800825195027, 0.09482343277459598, 0.09662875652333387, 0.09843397950876236, 0.10023910174409771, 0.10204412324449585, 0.10384904402654933, 0.10565386410791427, 
     0.10745858350703363, 0.10926320224293203, 0.11106772033506347, 0.11287213780319856, 0.11467645466734072, 0.11648067094766415, 0.11828478666446773, 0.12008880183814095, 
     0.12189271648913855, 0.12369653063796171, 0.12550024430514423, 0.12730385751124207, 0.12910737027682584, 0.13091078262247502, 0.13271409456877378, 0.13451730613630788, 
     0.13632041734566236, 0.1381234282174198, 0.13992633877215904, 0.14172914903045433, 0.14353185901287452, 0.14533446873998257, 0.14713697823233526, 0.14893938751048283, 
     0.15074169659496872, 0.15254390550632954, 0.15434601426509487, 0.15614802289178722, 0.15794993140692196, 0.15975173983100724, 0.16155344818454404, 0.16335505648802603, 
     0.16515656476193968, 0.16695797302676418, 0.16875928130297144, 0.17056048961102607, 0.17236159797138542]
theta = [0, 0.0009062125024746027, 0.002576421924565122, 0.004895516391724722, 0.007748295055335634, 0.01101335333194509, 0.014574804707252252, 0.018337691725179576, 0.022233917681693444, 
         0.026218531559765265, 0.030262801725852204, 0.03434828218938929, 0.038462838336917285, 0.042598240236707316, 0.046748747714078435, 0.050910268677405966, 0.05507984067203374, 
         0.05925529724056163, 0.06343504400205834, 0.06761790313042218, 0.07180300260990895, 0.07598969604414658, 0.08017750397089457, 0.0843660706392743, 0.08855513205665318, 
         0.09274449231754167, 0.0969340060483537, 0.10112356538066677, 0.1053130902824662, 0.10950252138120703, 0.11369181463653802, 0.11788093738616193, 0.12206986541106854, 
         0.12625858075747723, 0.13044707012046636, 0.134635323644499, 0.13882333403335662, 0.14301109588969288, 0.14719860522498573, 0.15138585909593458, 0.15557285533468293, 
         0.1597595923486603, 0.16394606897208, 0.16813228435576405, 0.17231823788540457, 0.17650392912092328, 0.18068935775148406, 0.18487452356211861, 0.18905942640896758, 
         0.19324406620091375, 0.1974284428859569, 0.20161255644110654, 0.2057964068648843, 0.2099799941717622, 0.21416331838803718, 0.2183463795487708, 0.22252917769551944, 
         0.22671171287465036, 0.230893985136093, 0.23507599453241254, 0.23925774111812292, 0.24343922494917716, 0.24762044608258943, 0.2518014045761547, 0.2559821004882409, 
         0.26016253387763455, 0.2643427048034267, 0.2685226133249278, 0.2727022595016049, 0.27688164339303534, 0.2810607650588716, 0.2852396245588161, 0.2894182219526019, 
         0.2935965572999789, 0.2977746306607031, 0.30195244209452893, 0.3061299916612037, 0.3103072794204631, 0.3144843054320282, 0.31866106975560304, 0.32283757245087297, 
         0.32701381357750325, 0.33118979319513825, 0.3353655113634007, 0.33954096814189116, 0.34371616359018764, 0.3478910977678454, 0.3520657707343966, 0.3562401825493503, 
         0.36041433327219236, 0.3645882229623852, 0.36876185167936787, 0.37293521948255604, 0.3771083264313419, 0.38128117258509425, 0.38545375800315834, 0.38962608274485605, 
         0.39379814686948567, 0.39796995043632216, 0.40214149350461703, 0.4063127761335983]
         
         
app = QtGui.QApplication([])
#mw = QtGui.QMainWindow()
#mw.resize(800,800)

win = pg.GraphicsWindow(title="Basic plotting examples")
win.resize(1000,600)
win.setWindowTitle('pyqtgraph example: Plotting')

# Enable antialiasing for prettier plots
pg.setConfigOptions(antialias=True)
p1 = win.addPlot(title="xy")
p1.plot(x,y, pen=(255,255,255), name="Red curve")
p1.showGrid(x = True, y = True)

transf = QtGui.QTransform()
r1 = pg.QtGui.QGraphicsRectItem(-0.75, -0.5, 1.5, 1)
r1.setPen(pg.mkPen(None))
r1.setBrush(pg.mkBrush('r'))

step = 10
kart_l = 1.5
kart_w = 1. 
for i in range(5):
    r1 = pg.QtGui.QGraphicsRectItem(-kart_l/2., -kart_w/2., kart_l, kart_w)
    r1.setPen(pg.mkPen(None))
    r1.setBrush(pg.mkBrush('r'))
#    transf.rotate((theta[i]-theta[i-1])/np.pi*180+180)
    if i >0:
        transf.rotate(-10)
    transf.translate(2., 2.)
    transf.rotate(10)
    r1.setTransform(transf)
    p1.addItem(r1)
#    arrow = pg.ArrowItem(pos=(x[i*step],y[i*step]),angle=(-theta[i*step]/np.pi*180+180))
#    p1.addItem(arrow)
    q=[0,1]
    p1.plot(q,q, pen=pg.mkPen('b', width=1))
#p2.plot(np.random.normal(size=110)+5, pen=(0,255,0), name="Green curve")
    






if __name__ == '__main__':
    import sys
#    main()
    if (sys.flags.interactive != 1) or not hasattr(QtCore, 'PYQT_VERSION'):
        QtGui.QApplication.instance().exec_()


